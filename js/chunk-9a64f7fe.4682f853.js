(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9a64f7fe"],{1148:function(t,e,a){"use strict";var r=a("a691"),c=a("577e"),n=a("1d80");t.exports=function(t){var e=c(n(this)),a="",o=r(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(a+=e);return a}},1799:function(t,e,a){"use strict";var r=a("7a23"),c=function(t){return Object(r["A"])("data-v-19c3f988"),t=t(),Object(r["y"])(),t},n={"aria-label":"Page navigation",class:"justify-content-center d-flex"},o={class:"pagination"},i=c((function(){return Object(r["g"])("span",{"aria-hidden":"true"},"«",-1)})),l=[i],d=["onClick"],s=c((function(){return Object(r["g"])("span",{"aria-hidden":"true"},"»",-1)})),u=[s];function b(t,e,a,c,i,s){return Object(r["x"])(),Object(r["f"])("nav",n,[Object(r["g"])("ul",o,[Object(r["g"])("li",{class:Object(r["r"])(["page-item",{disabled:!a.pages.has_pre}])},[Object(r["g"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=Object(r["S"])((function(t){return s.getProductPages(a.pages.current_page-1)}),["prevent"]))},l)],2),(Object(r["x"])(!0),Object(r["f"])(r["a"],null,Object(r["E"])(a.pages.total_pages,(function(t){return Object(r["x"])(),Object(r["f"])("li",{class:Object(r["r"])(["page-item",{active:a.pages.current_page===t}]),key:t},[Object(r["g"])("a",{class:"page-link",href:"#",onClick:Object(r["S"])((function(e){return s.getProductPages(t)}),["prevent"])},Object(r["I"])(t),9,d)],2)})),128)),Object(r["g"])("li",{class:Object(r["r"])(["page-item",{disabled:!a.pages.has_next}])},[Object(r["g"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=Object(r["S"])((function(t){return s.getProductPages(a.pages.current_page+1)}),["prevent"]))},u)],2)])])}var g={name:"Pagination",props:["pages"],methods:{getProductPages:function(t){this.$emit("emitProductPage",t)}}},O=(a("41d2"),a("6b0d")),p=a.n(O);const j=p()(g,[["render",b],["__scopeId","data-v-19c3f988"]]);e["a"]=j},"408a":function(t,e){var a=1..valueOf;t.exports=function(t){return a.call(t)}},"41d2":function(t,e,a){"use strict";a("c33b")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("1d80"),c=a("577e"),n=a("5899"),o="["+n+"]",i=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),d=function(t){return function(e){var a=c(r(e));return 1&t&&(a=a.replace(i,"")),2&t&&(a=a.replace(l,"")),a}};t.exports={start:d(1),end:d(2),trim:d(3)}},7156:function(t,e,a){var r=a("1626"),c=a("861d"),n=a("d2bb");t.exports=function(t,e,a){var o,i;return n&&r(o=e.constructor)&&o!==a&&c(i=o.prototype)&&i!==a.prototype&&n(t,i),t}},9303:function(t,e,a){"use strict";a.r(e);a("b0c0");var r=a("7a23"),c=Object(r["g"])("h2",{class:"text-center mt-3"},"訂單列表",-1),n={class:"table mt-4 container"},o=Object(r["g"])("thead",{class:"bg-dark text-light"},[Object(r["g"])("tr",null,[Object(r["g"])("th",null,"訂貨日期"),Object(r["g"])("th",{width:"80"},"姓名"),Object(r["g"])("th",{width:"80"},"Email"),Object(r["g"])("th",{width:"80"},"電話"),Object(r["g"])("th",null,"寄送地址"),Object(r["g"])("th",{width:"100"},"寄送資料"),Object(r["g"])("th",{width:"130"},"訂單資料"),Object(r["g"])("th",{width:"115"},"付款方式"),Object(r["g"])("th",{width:"100"},"是否付款")])],-1),i=["onClick"],l=["onClick"],d={class:"modal fade",id:"orderSenderModal",tabindex:"-1",role:"dialog","aria-labelledby":"orderSenderLabel","aria-hidden":"true"},s={class:"modal-dialog",role:"document"},u={class:"modal-content border-0"},b=Object(r["g"])("div",{class:"modal-header bg-dark text-white"},[Object(r["g"])("h5",{class:"modal-title",id:"orderSenderLabel"},[Object(r["g"])("span",null,"修改訂單")])],-1),g={class:"modal-body"},O={class:"row"},p={class:"col-md-8 mx-auto"},j=Object(r["g"])("label",{for:"name"},"訂購姓名",-1),f={class:"col-md-8 mx-auto"},m=Object(r["g"])("label",{for:"tel"},"電話",-1),h={class:"col-md-8 mx-auto"},v=Object(r["g"])("label",{for:"address"},"寄送地址",-1),x=Object(r["g"])("hr",null,null,-1),y={class:"modal-footer"},I=Object(r["g"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"},"取消",-1),w={class:"modal fade",id:"orderProductModal",tabindex:"-1","aria-labelledby":"orderProductLabel","aria-hidden":"true"},k={class:"modal-dialog modal-xl"},N={class:"modal-content"},_=Object(r["g"])("div",{class:"modal-header bg-dark text-light"},[Object(r["g"])("h5",{class:"modal-title",id:"orderProductLabel"},[Object(r["g"])("span",null,"訂單內容")])],-1),P={class:"modal-body row g-3"},E={class:"table table-striped"},S=Object(r["g"])("thead",null,[Object(r["g"])("tr",null,[Object(r["g"])("th",{scope:"col"},"品名"),Object(r["g"])("th",{scope:"col"},"數量"),Object(r["g"])("th",{scope:"col"},"原價"),Object(r["g"])("th",{scope:"col"},"售價"),Object(r["g"])("th",{scope:"col"},"優惠碼")])],-1),C={key:0},F={key:1},M={key:2},L={class:"col-md-12"},A=Object(r["g"])("button",{type:"button",class:"btn btn-outline-secondary me-1","data-bs-dismiss":"modal"},"取消",-1);function R(t,e,a,R,T,V){var U=Object(r["F"])("Pagination");return Object(r["x"])(),Object(r["f"])("div",null,[c,Object(r["g"])("table",n,[o,Object(r["g"])("tbody",null,[(Object(r["x"])(!0),Object(r["f"])(r["a"],null,Object(r["E"])(T.orderList,(function(t){return Object(r["x"])(),Object(r["f"])("tr",{key:t.id},[Object(r["g"])("td",null,Object(r["I"])(V.dateConversion(t.create_at)),1),Object(r["g"])("td",null,Object(r["I"])(t.user.name),1),Object(r["g"])("td",null,Object(r["I"])(t.user.email),1),Object(r["g"])("td",null,Object(r["I"])(t.user.tel),1),Object(r["g"])("td",null,Object(r["I"])(t.user.address),1),Object(r["g"])("td",null,[Object(r["g"])("button",{class:"btn btn-outline-primary btn-sm mr-1","data-bs-toggle":"modal","data-bs-target":"#orderSenderModal",onClick:function(e){return T.tempOrder=Object.assign({},t)}},"編輯",8,i)]),Object(r["g"])("td",null,[Object(r["g"])("button",{class:"btn btn-outline-primary btn-sm mr-1","data-bs-toggle":"modal","data-bs-target":"#orderProductModal",onClick:function(e){return T.tempOrder=Object.assign({},t)}},"訂單內容",8,l)]),Object(r["g"])("td",null,Object(r["I"])(t.payment_method),1),Object(r["g"])("td",null,[Object(r["g"])("span",{class:Object(r["r"])({"text-success":t.is_paid})},Object(r["I"])(t.is_paid?"已付款":"未付款"),3)])])})),128))])]),Object(r["j"])(U,{pages:T.pagination,onEmitProductPage:V.getOrder},null,8,["pages","onEmitProductPage"]),Object(r["g"])("div",d,[Object(r["g"])("div",s,[Object(r["g"])("div",u,[b,Object(r["g"])("div",g,[Object(r["g"])("div",O,[Object(r["g"])("div",p,[j,Object(r["R"])(Object(r["g"])("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":e[0]||(e[0]=function(t){return T.tempOrder.user.name=t})},null,512),[[r["N"],T.tempOrder.user.name]]),Object(r["g"])("div",f,[m,Object(r["R"])(Object(r["g"])("input",{type:"tel",class:"form-control",id:"tel","onUpdate:modelValue":e[1]||(e[1]=function(t){return T.tempOrder.user.tel=t})},null,512),[[r["N"],T.tempOrder.user.tel]])]),Object(r["g"])("div",h,[v,Object(r["R"])(Object(r["g"])("input",{type:"text",class:"form-control",id:"address","onUpdate:modelValue":e[2]||(e[2]=function(t){return T.tempOrder.user.address=t})},null,512),[[r["N"],T.tempOrder.user.address]])]),x])])]),Object(r["g"])("div",y,[I,Object(r["g"])("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:e[3]||(e[3]=function(){return V.updateOrder&&V.updateOrder.apply(V,arguments)})},"確認")])])])]),Object(r["g"])("div",w,[Object(r["g"])("div",k,[Object(r["g"])("div",N,[_,Object(r["g"])("div",P,[Object(r["g"])("h5",null,"訂單編號: "+Object(r["I"])(T.tempOrder.id),1),Object(r["g"])("table",E,[S,Object(r["g"])("tbody",null,[(Object(r["x"])(!0),Object(r["f"])(r["a"],null,Object(r["E"])(T.tempOrder.products,(function(t){return Object(r["x"])(),Object(r["f"])("tr",{key:t.id},[Object(r["g"])("td",null,Object(r["I"])(t.product.title),1),Object(r["g"])("td",null,Object(r["I"])(t.qty)+" / "+Object(r["I"])(t.product.unit),1),Object(r["g"])("td",null,Object(r["I"])(V.currency(t.product.price)),1),t.final_total?(Object(r["x"])(),Object(r["f"])("td",C,Object(r["I"])(V.currency(Math.round(t.final_total))),1)):Object(r["e"])("",!0),t.coupon?(Object(r["x"])(),Object(r["f"])("td",F,Object(r["I"])(t.coupon.title),1)):(Object(r["x"])(),Object(r["f"])("td",M,"無"))])})),128))])])]),Object(r["g"])("div",L,[A,Object(r["g"])("button",{type:"button",class:"btn btn-primary ms-1","data-bs-dismiss":"modal",onClick:e[4]||(e[4]=function(){return V.updateOrder&&V.updateOrder.apply(V,arguments)})},"確認")])])])])])}var T=a("5530"),V=(a("99af"),a("a9e3"),a("ac1f"),a("5319"),a("b680"),a("5502")),U=a("1799"),z={name:"OrderList",data:function(){return{orderList:[{create_at:"",is_paid:!1,products:{product:{final_total:""},final_total:""},total:0,user:{address:"",email:"",name:"",tel:""}}],tempOrder:{final_total:"",products:[],user:{}},products:[],pagination:{},deletearray:""}},components:{Pagination:U["a"]},methods:Object(T["a"])({getOrder:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("zxz189","/orders?page=").concat(e);this.updateLoading(!0),this.axios.get(a).then((function(e){t.orderList=e.data.orders,t.pagination=e.data.pagination,t.updateLoading(!1)}))},updateOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("zxz189","/admin/order/").concat(this.tempOrder.id);this.axios.put(e,{data:this.tempOrder}).then((function(e){e.data.success?(t.alertMessage("成功修改"),t.getOrder()):t.alertMessage("修改失敗")}))},dateConversion:function(t){var e=new Date(t);return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate()," ").concat(e.getHours(),":").concat(e.getMinutes())},currency:function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,a){var r=e&&"."!==t&&(a.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return r})))}},Object(V["b"])(["updateLoading","alertMessage"])),created:function(){this.getOrder()}},G=a("6b0d"),X=a.n(G);const Y=X()(z,[["render",R]]);e["default"]=Y},a9e3:function(t,e,a){"use strict";var r=a("83ab"),c=a("da84"),n=a("94ca"),o=a("6eeb"),i=a("5135"),l=a("c6b6"),d=a("7156"),s=a("d9b5"),u=a("c04e"),b=a("d039"),g=a("7c73"),O=a("241c").f,p=a("06cf").f,j=a("9bf2").f,f=a("58a8").trim,m="Number",h=c[m],v=h.prototype,x=l(g(v))==m,y=function(t){if(s(t))throw TypeError("Cannot convert a Symbol value to a number");var e,a,r,c,n,o,i,l,d=u(t,"number");if("string"==typeof d&&d.length>2)if(d=f(d),e=d.charCodeAt(0),43===e||45===e){if(a=d.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(d.charCodeAt(1)){case 66:case 98:r=2,c=49;break;case 79:case 111:r=8,c=55;break;default:return+d}for(n=d.slice(2),o=n.length,i=0;i<o;i++)if(l=n.charCodeAt(i),l<48||l>c)return NaN;return parseInt(n,r)}return+d};if(n(m,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var I,w=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof w&&(x?b((function(){v.valueOf.call(a)})):l(a)!=m)?d(new h(y(e)),a,w):y(e)},k=r?O(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),N=0;k.length>N;N++)i(h,I=k[N])&&!i(w,I)&&j(w,I,p(h,I));w.prototype=v,v.constructor=w,o(c,m,w)}},b0c0:function(t,e,a){var r=a("83ab"),c=a("5e77").EXISTS,n=a("9bf2").f,o=Function.prototype,i=o.toString,l=/^\s*function ([^ (]*)/,d="name";r&&!c&&n(o,d,{configurable:!0,get:function(){try{return i.call(this).match(l)[1]}catch(t){return""}}})},b680:function(t,e,a){"use strict";var r=a("23e7"),c=a("a691"),n=a("408a"),o=a("1148"),i=a("d039"),l=1..toFixed,d=Math.floor,s=function(t,e,a){return 0===e?a:e%2===1?s(t,e-1,a*t):s(t*t,e/2,a)},u=function(t){var e=0,a=t;while(a>=4096)e+=12,a/=4096;while(a>=2)e+=1,a/=2;return e},b=function(t,e,a){var r=-1,c=a;while(++r<6)c+=e*t[r],t[r]=c%1e7,c=d(c/1e7)},g=function(t,e){var a=6,r=0;while(--a>=0)r+=t[a],t[a]=d(r/e),r=r%e*1e7},O=function(t){var e=6,a="";while(--e>=0)if(""!==a||0===e||0!==t[e]){var r=String(t[e]);a=""===a?r:a+o.call("0",7-r.length)+r}return a},p=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){l.call({})}));r({target:"Number",proto:!0,forced:p},{toFixed:function(t){var e,a,r,i,l=n(this),d=c(t),p=[0,0,0,0,0,0],j="",f="0";if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(j="-",l=-l),l>1e-21)if(e=u(l*s(2,69,1))-69,a=e<0?l*s(2,-e,1):l/s(2,e,1),a*=4503599627370496,e=52-e,e>0){b(p,0,a),r=d;while(r>=7)b(p,1e7,0),r-=7;b(p,s(10,r,1),0),r=e-1;while(r>=23)g(p,1<<23),r-=23;g(p,1<<r),b(p,1,1),g(p,2),f=O(p)}else b(p,0,a),b(p,1<<-e,0),f=O(p)+o.call("0",d);return d>0?(i=f.length,f=j+(i<=d?"0."+o.call("0",d-i)+f:f.slice(0,i-d)+"."+f.slice(i-d))):f=j+f,f}})},c33b:function(t,e,a){}}]);
//# sourceMappingURL=chunk-9a64f7fe.4682f853.js.map