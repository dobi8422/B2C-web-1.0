(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e21ccf9c"],{"09e2":function(t,e,c){},1148:function(t,e,c){"use strict";var n=c("a691"),a=c("577e"),r=c("1d80");t.exports=function(t){var e=a(r(this)),c="",o=n(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(c+=e);return c}},"36d0":function(t,e,c){"use strict";c("09e2")},"408a":function(t,e){var c=1..valueOf;t.exports=function(t){return c.call(t)}},4141:function(t,e,c){"use strict";c.r(e);c("b0c0");var n=c("7a23"),a=function(t){return Object(n["A"])("data-v-019b9361"),t=t(),Object(n["y"])(),t},r={class:"p-5 container"},o=a((function(){return Object(n["g"])("div",{class:"position-absolute end-0 me-5"},[Object(n["g"])("button",{class:"btn btn-outline-primary","data-bs-toggle":"modal","data-bs-target":"#deleteModal"},"清空購物車")],-1)})),l=a((function(){return Object(n["g"])("div",{class:"fs-3 mb-5",style:{color:"#e465a0"}},"購物車",-1)})),s={class:"row my-5"},i={key:0,class:"col-lg-6 mx-auto"},u={key:0},d={class:"table mt-4 container"},b=a((function(){return Object(n["g"])("thead",{class:"bg-dark text-light"},[Object(n["g"])("th"),Object(n["g"])("th",null,"品名"),Object(n["g"])("th",null,"數量"),Object(n["g"])("th",null,"單價")],-1)})),f={class:"align-middle"},g=["onClick"],j=a((function(){return Object(n["g"])("i",{class:"far fa-trash-alt"},null,-1)})),O=[j],m={class:"align-middle"},p={key:0,class:"text-success"},h={class:"align-middle"},v=a((function(){return Object(n["g"])("i",{class:"fas fa-chevron-up"},null,-1)})),x=[v],y=a((function(){return Object(n["g"])("i",{class:"fas fa-chevron-down"},null,-1)})),I=[y],C={class:"align-middle"},N={key:0,class:"text-success"},w=a((function(){return Object(n["g"])("td",{colspan:"3",class:"text-right"},"總計",-1)})),E={class:"text-right"},F={key:0},k=a((function(){return Object(n["g"])("td",{colspan:"3",class:"text-right text-success"},"折扣價",-1)})),_={class:"text-right text-success"},M={class:"input-group container"},V={key:1,class:"fs-4 mt-5"},S=a((function(){return Object(n["g"])("hr",null,null,-1)})),A={class:"row my-5"},R=a((function(){return Object(n["g"])("label",{for:"useremail"},"Email",-1)})),L=a((function(){return Object(n["g"])("label",{for:"useremail"},"收件人姓名",-1)})),T=a((function(){return Object(n["g"])("label",{for:"useremail"},"收件人電話",-1)})),U=a((function(){return Object(n["g"])("label",{for:"useremail"},"收件人地址",-1)})),z=a((function(){return Object(n["g"])("label",{for:"useremail"},"備註",-1)})),J=a((function(){return Object(n["g"])("div",{class:"form-group d-flex justify-content-around"},[Object(n["g"])("label",{for:""},[Object(n["g"])("input",{type:"radio",name:"pay_way"}),Object(n["i"])(" 貨到付款")]),Object(n["g"])("label",{for:""},[Object(n["g"])("input",{type:"radio",name:"pay_way"}),Object(n["i"])(" 線上支付")])],-1)})),q=a((function(){return Object(n["g"])("div",null,[Object(n["g"])("button",{class:"btn btn-danger mt-1"},"送出訂單")],-1)})),G={class:"modal fade",id:"deleteModal",tabindex:"-1","aria-labelledby":"deleteModalLabel","aria-hidden":"true"},X={class:"modal-dialog"},$={class:"modal-content"},P=a((function(){return Object(n["g"])("div",{class:"modal-header"},[Object(n["g"])("h5",{class:"modal-title",id:"deleteModalLabel"},[Object(n["g"])("i",{class:"fas fa-trash-alt"}),Object(n["i"])(" 刪除產品")])],-1)})),Y={class:"modal-body row g-3"},Q=a((function(){return Object(n["g"])("div",{class:"col-12"},[Object(n["i"])(" 確定要 "),Object(n["g"])("strong",{class:"text-danger"},"刪除所有商品"),Object(n["i"])(" (刪除後將無法恢復)。 ")],-1)})),W={class:"col-12"},B=a((function(){return Object(n["g"])("button",{type:"button",class:"btn btn-outline-secondary me-1","data-bs-dismiss":"modal"},"取消",-1)}));function D(t,e,c,a,j,v){var y=this,D=Object(n["F"])("Field"),H=Object(n["F"])("ErrorMessage"),K=Object(n["F"])("Form");return Object(n["x"])(),Object(n["f"])("div",r,[o,l,Object(n["g"])("div",s,[t.carts.carts?(Object(n["x"])(),Object(n["f"])("div",i,[0!==t.carts.carts.length?(Object(n["x"])(),Object(n["f"])("div",u,[Object(n["g"])("table",d,[b,Object(n["g"])("tbody",null,[(Object(n["x"])(!0),Object(n["f"])(n["a"],null,Object(n["E"])(v.cartsReverse,(function(t){return Object(n["x"])(),Object(n["f"])("tr",{key:t.id},[Object(n["g"])("td",f,[Object(n["g"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return v.deleteItem(t.id,t.qty,t.product.unit,t.product.title)}},O,8,g)]),Object(n["g"])("td",m,[Object(n["i"])(Object(n["I"])(t.product.title)+" ",1),t.coupon?(Object(n["x"])(),Object(n["f"])("div",p,"已套用優惠卷")):Object(n["e"])("",!0)]),Object(n["g"])("td",h,[Object(n["g"])("button",{class:"calc btn btn-outline-secondary",onClick:e[0]||(e[0]=function(t){return y.alertMessage("此功能尚未完成")})},x),Object(n["i"])(" "+Object(n["I"])(t.qty)+Object(n["I"])(t.product.unit)+" ",1),Object(n["g"])("button",{class:"calc btn btn-outline-secondary",onClick:e[1]||(e[1]=function(t){return y.alertMessage("此功能尚未完成")})},I)]),Object(n["g"])("td",C,[Object(n["i"])(Object(n["I"])(t.total)+" ",1),t.coupon?(Object(n["x"])(),Object(n["f"])("div",N,Object(n["I"])(Math.round(t.final_total)),1)):Object(n["e"])("",!0)])])})),128))]),Object(n["g"])("tfoot",null,[Object(n["g"])("tr",null,[w,Object(n["g"])("td",E,Object(n["I"])(t.carts.total),1)]),t.carts.final_total!==t.carts.total?(Object(n["x"])(),Object(n["f"])("tr",F,[k,Object(n["g"])("td",_,Object(n["I"])(t.carts.final_total),1)])):Object(n["e"])("",!0)])]),Object(n["g"])("div",M,[Object(n["R"])(Object(n["g"])("input",{type:"text",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=function(t){return j.coupon_code=t}),placeholder:"請輸入優惠碼"},null,512),[[n["N"],j.coupon_code]]),Object(n["g"])("button",{class:"btn btn-secondary",type:"button",onClick:e[3]||(e[3]=function(){return v.addCouponCode&&v.addCouponCode.apply(v,arguments)})},"套用優惠碼")])])):(Object(n["x"])(),Object(n["f"])("div",V,"目前購物車是空的~~"))])):Object(n["e"])("",!0)]),S,Object(n["g"])("div",A,[Object(n["j"])(K,{class:"row g-2 col-lg-6 mx-auto",onSubmit:v.createOrder},{default:Object(n["Q"])((function(){return[Object(n["g"])("div",null,[R,Object(n["j"])(D,{class:"form-control",placeholder:"請輸入信箱",name:"email",rules:"email",modelValue:j.form.user.email,"onUpdate:modelValue":e[4]||(e[4]=function(t){return j.form.user.email=t})},null,8,["modelValue"]),Object(n["j"])(H,{class:"text-danger",name:"email"})]),Object(n["g"])("div",null,[L,Object(n["j"])(D,{class:"form-control",placeholder:"請輸入姓名",name:"name",rules:"name",modelValue:j.form.user.name,"onUpdate:modelValue":e[5]||(e[5]=function(t){return j.form.user.name=t})},null,8,["modelValue"]),Object(n["j"])(H,{class:"text-danger",name:"name"})]),Object(n["g"])("div",null,[T,Object(n["j"])(D,{class:"form-control",placeholder:"請輸入電話",name:"tel",rules:"tel",modelValue:j.form.user.tel,"onUpdate:modelValue":e[6]||(e[6]=function(t){return j.form.user.tel=t})},null,8,["modelValue"]),Object(n["j"])(H,{class:"text-danger",name:"tel"})]),Object(n["g"])("div",null,[U,Object(n["j"])(D,{class:"form-control",placeholder:"請輸入地址",name:"add",rules:"address",modelValue:j.form.user.address,"onUpdate:modelValue":e[7]||(e[7]=function(t){return j.form.user.address=t})},null,8,["modelValue"]),Object(n["j"])(H,{class:"text-danger",name:"add"})]),Object(n["g"])("div",null,[z,Object(n["R"])(Object(n["g"])("textarea",{name:"",id:"comment",class:"form-control",cols:"30",rows:"5","onUpdate:modelValue":e[8]||(e[8]=function(t){return j.form.message=t})},null,512),[[n["N"],j.form.message]])]),J,q]})),_:1},8,["onSubmit"])]),Object(n["g"])("div",G,[Object(n["g"])("div",X,[Object(n["g"])("div",$,[P,Object(n["g"])("div",Y,[Q,Object(n["g"])("div",W,[B,Object(n["g"])("button",{type:"button",class:"btn btn-danger ms-1","data-bs-dismiss":"modal",onClick:e[9]||(e[9]=function(){return v.clearCart&&v.clearCart.apply(v,arguments)})},"確認刪除")])])])])])])}var H=c("5530"),K=(c("159b"),c("99af"),c("a9e3"),c("ac1f"),c("5319"),c("b680"),c("5502")),Z=c("7bb1"),tt={data:function(){return{coupon_code:"",form:{user:{name:"",email:"",tel:"",address:""},message:""}}},components:{Field:Z["b"],Form:Z["c"],ErrorMessage:Z["a"]},methods:Object(H["a"])({getCart:function(){this.getCart()},deleteItem:function(t,e,c,n){this.deleteCartItem({id:t,qty:e,unit:c,title:n})},clearCart:function(){var t=this;this.carts.carts.forEach((function(e){var c="".concat("https://vue-course-api.hexschool.io","/api/").concat("zxz189","/cart/").concat(e.id);t.axios.delete(c),t.alertMessage("清空購物車"),t.getCart()}))},addCouponCode:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("zxz189","/coupon"),c=this,n={code:c.coupon_code};this.axios.post(e,{data:n}).then((function(e){t.alertMessage("".concat(e.data.message)),c.getCart()}))},createOrder:function(){var t=this;if(this.updateLoading(!0),this.carts.carts){var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("zxz189","/order"),c=this,n=c.form;c.axios.post(e,{data:n}).then((function(e){t.alertMessage("目前購物車是空的唷"),t.updateLoading(!1),e.data.success&&(t.alertMessage("訂單已送出"),c.$router.push("/check/".concat(e.data.orderId)))}))}else this.updateLoading(!1)},currency:function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,c){var n=e&&"."!==t&&(c.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return n})))}},Object(K["b"])(["updateLoading","getCart","deleteCartItem","alertMessage"])),computed:Object(H["a"])({cartsReverse:function(){return JSON.parse(JSON.stringify(this.carts.carts)).reverse()}},Object(K["c"])(["carts"])),created:function(){this.getCart()}},et=(c("36d0"),c("6b0d")),ct=c.n(et);const nt=ct()(tt,[["render",D],["__scopeId","data-v-019b9361"]]);e["default"]=nt},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,c){var n=c("1d80"),a=c("577e"),r=c("5899"),o="["+r+"]",l=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),i=function(t){return function(e){var c=a(n(e));return 1&t&&(c=c.replace(l,"")),2&t&&(c=c.replace(s,"")),c}};t.exports={start:i(1),end:i(2),trim:i(3)}},7156:function(t,e,c){var n=c("1626"),a=c("861d"),r=c("d2bb");t.exports=function(t,e,c){var o,l;return r&&n(o=e.constructor)&&o!==c&&a(l=o.prototype)&&l!==c.prototype&&r(t,l),t}},a9e3:function(t,e,c){"use strict";var n=c("83ab"),a=c("da84"),r=c("94ca"),o=c("6eeb"),l=c("5135"),s=c("c6b6"),i=c("7156"),u=c("d9b5"),d=c("c04e"),b=c("d039"),f=c("7c73"),g=c("241c").f,j=c("06cf").f,O=c("9bf2").f,m=c("58a8").trim,p="Number",h=a[p],v=h.prototype,x=s(f(v))==p,y=function(t){if(u(t))throw TypeError("Cannot convert a Symbol value to a number");var e,c,n,a,r,o,l,s,i=d(t,"number");if("string"==typeof i&&i.length>2)if(i=m(i),e=i.charCodeAt(0),43===e||45===e){if(c=i.charCodeAt(2),88===c||120===c)return NaN}else if(48===e){switch(i.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+i}for(r=i.slice(2),o=r.length,l=0;l<o;l++)if(s=r.charCodeAt(l),s<48||s>a)return NaN;return parseInt(r,n)}return+i};if(r(p,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var I,C=function(t){var e=arguments.length<1?0:t,c=this;return c instanceof C&&(x?b((function(){v.valueOf.call(c)})):s(c)!=p)?i(new h(y(e)),c,C):y(e)},N=n?g(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),w=0;N.length>w;w++)l(h,I=N[w])&&!l(C,I)&&O(C,I,j(h,I));C.prototype=v,v.constructor=C,o(a,p,C)}},b0c0:function(t,e,c){var n=c("83ab"),a=c("5e77").EXISTS,r=c("9bf2").f,o=Function.prototype,l=o.toString,s=/^\s*function ([^ (]*)/,i="name";n&&!a&&r(o,i,{configurable:!0,get:function(){try{return l.call(this).match(s)[1]}catch(t){return""}}})},b680:function(t,e,c){"use strict";var n=c("23e7"),a=c("a691"),r=c("408a"),o=c("1148"),l=c("d039"),s=1..toFixed,i=Math.floor,u=function(t,e,c){return 0===e?c:e%2===1?u(t,e-1,c*t):u(t*t,e/2,c)},d=function(t){var e=0,c=t;while(c>=4096)e+=12,c/=4096;while(c>=2)e+=1,c/=2;return e},b=function(t,e,c){var n=-1,a=c;while(++n<6)a+=e*t[n],t[n]=a%1e7,a=i(a/1e7)},f=function(t,e){var c=6,n=0;while(--c>=0)n+=t[c],t[c]=i(n/e),n=n%e*1e7},g=function(t){var e=6,c="";while(--e>=0)if(""!==c||0===e||0!==t[e]){var n=String(t[e]);c=""===c?n:c+o.call("0",7-n.length)+n}return c},j=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!l((function(){s.call({})}));n({target:"Number",proto:!0,forced:j},{toFixed:function(t){var e,c,n,l,s=r(this),i=a(t),j=[0,0,0,0,0,0],O="",m="0";if(i<0||i>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(O="-",s=-s),s>1e-21)if(e=d(s*u(2,69,1))-69,c=e<0?s*u(2,-e,1):s/u(2,e,1),c*=4503599627370496,e=52-e,e>0){b(j,0,c),n=i;while(n>=7)b(j,1e7,0),n-=7;b(j,u(10,n,1),0),n=e-1;while(n>=23)f(j,1<<23),n-=23;f(j,1<<n),b(j,1,1),f(j,2),m=g(j)}else b(j,0,c),b(j,1<<-e,0),m=g(j)+o.call("0",i);return i>0?(l=m.length,m=O+(l<=i?"0."+o.call("0",i-l)+m:m.slice(0,l-i)+"."+m.slice(l-i))):m=O+m,m}})}}]);
//# sourceMappingURL=chunk-e21ccf9c.7ffd194d.js.map