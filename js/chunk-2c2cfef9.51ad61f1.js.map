{"version":3,"sources":["webpack:///./src/views/manager/Coupon.vue","webpack:///./src/views/manager/Coupon.vue?03e4","webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?f819","webpack:///./src/components/Pagination.vue?4977"],"names":["class","width","id","tabindex","aria-labelledby","aria-hidden","for","type","data-bs-dismiss","data-bs-toggle","data-bs-target","isNew","tempCoupon","coupons","item","key","code","Object","assign","enableCoupon","is_enabled","true-value","false-value","title","due_date","percent","couponId","pages","pagination","getCoupons","placeholder","updateCoupon","deleteCoupon","name","data","action","components","Pagination","methods","api","httpMethod","this","checkCoupon","axios","then","res","success","alertMessage","delete","is_enable","put","filterCoupon","some","Error","page","updateLoading","get","created","__exports__","render","aria-label","has_pre","href","getProductPages","current_page","total_pages","has_next","props","$emit"],"mappings":"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","file":"js/chunk-2c2cfef9.51ad61f1.js","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"d-flex justify-content-around mx-5\">\r\n      <div></div>\r\n      <h2 class=\"text-center mt-3\">優惠卷</h2>\r\n      <button class=\"btn btn-outline-primary\" data-bs-toggle=\"modal\" data-bs-target=\"#couponModal\" @click=\"isNew = true, tempCoupon = {}\">新增優惠卷</button>\r\n    </div>\r\n    <div class=\"d-flex justify-content-end mx-5\">\r\n    </div>\r\n    <table class=\"table mt-4 container\">\r\n      <thead class=\"bg-dark text-light\">\r\n        <tr>\r\n          <th width=\"50\">啟用</th>\r\n          <th width=\"120\">優惠卷名稱</th>\r\n          <th width=\"60\">到期日</th>\r\n          <th width=\"60\">折扣(%)</th>\r\n          <th width=\"60\">折扣碼</th>\r\n          <th width=\"30\">編輯</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"item in coupons\" :key=\"item.code\">\r\n          <td>\r\n            <input class=\"form-check-input\" @click=\"tempCoupon = Object.assign({}, item), enableCoupon()\" type=\"checkbox\" v-model=\"item.is_enabled\" :true-value=\"1\" :false-value=\"0\" id=\"is_enabled\">\r\n          </td>\r\n          <td>{{ item.title }}</td>\r\n          <td>{{ item.due_date }}</td>\r\n          <td>{{ item.percent }}</td>\r\n          <td>{{ item.code }}</td>\r\n          <td>\r\n            <div class=\"d-flex justify-content-center\">\r\n              <button class=\"btn btn-outline-primary btn-sm me-1\" data-bs-toggle=\"modal\" data-bs-target=\"#couponModal\" @click=\"tempCoupon = Object.assign({}, item), isNew = false\">編輯</button>\r\n              <button class=\"btn btn-outline-danger btn-sm\" data-bs-toggle=\"modal\" data-bs-target=\"#deleteModal\" @click=\"tempCoupon = Object.assign({}, item), couponId = item.id\">刪除</button>\r\n            </div>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <Pagination :pages=\"pagination\" @emitProductPage=\"getCoupons\"></Pagination>\r\n    <!-- Modal-新增/編輯優惠卷 -->\r\n    <div class=\"modal fade\" id=\"couponModal\" tabindex=\"-1\" aria-labelledby=\"couponModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header bg-dark text-light\">\r\n            <h5 class=\"modal-title\" id=\"couponModalLabel\">\r\n              <i class=\"fas fa-gift\"></i>&ensp;{{ isNew ? '新增優惠卷' : '編輯優惠卷' }}\r\n            </h5>\r\n            <div class=\"form-check\">\r\n              <label class=\"form-check-label\" for=\"is_enabled\">啟用</label>\r\n              <input class=\"form-check-input\" type=\"checkbox\" v-model=\"tempCoupon.is_enabled\" :true-value=\"1\" :false-value=\"0\" id=\"is_enabled\">\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row g-3\">\r\n                <div class=\"form-group col-md-6\">\r\n                  <label for=\"title\">優惠券名稱</label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"title\" placeholder=\"請輸入標題\" v-model=\"tempCoupon.title\">\r\n                </div>\r\n                <div class=\"form-group col-md-6\">\r\n                  <label for=\"date\">到期日</label>\r\n                  <input type=\"date\" class=\"form-control\" id=\"date\" placeholder=\"請輸入到期日\" v-model=\"tempCoupon.due_date\">\r\n                </div>\r\n                <div class=\"form-group col-md-6\">\r\n                  <label for=\"percent\">折扣百分比 <span class=\"text-muted\">(80% -> 輸入 80)</span></label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"percent\" placeholder=\"請輸入折扣百分比\" v-model=\"tempCoupon.percent\">\r\n                </div>\r\n                <div class=\"form-group col-md-6\">\r\n                  <label for=\"折扣碼\">折扣碼</label>\r\n                  <input type=\"text\" class=\"form-control\" id=\"折扣碼\" placeholder=\"請輸入折扣碼\" v-model=\"tempCoupon.code\">\r\n                </div>\r\n              <div class=\"col-md-12\">\r\n                <button type=\"button\" class=\"btn btn-outline-secondary me-1\" data-bs-dismiss=\"modal\">取消</button>\r\n                <button type=\"button\" class=\"btn btn-primary ms-1\" data-bs-dismiss=\"modal\" @click=\"updateCoupon\">{{ isNew ? '新增' : '編輯' }}</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- Modal-刪除優惠卷 -->\r\n    <div class=\"modal fade\" id=\"deleteModal\" tabindex=\"-1\" aria-labelledby=\"deleteModalLabel\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header bg-dark text-light\">\r\n            <h5 class=\"modal-title\" id=\"deleteModalLabel\"><i class=\"fas fa-trash-alt\"></i>&ensp;刪除優惠卷</h5>\r\n          </div>\r\n          <div class=\"modal-body row g-3\">\r\n            <div class=\"col-12\">\r\n              是否刪除 <strong class=\"text-danger\">{{ tempCoupon.title }}</strong> 優惠卷 (刪除後將無法恢復)。\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <button type=\"button\" class=\"btn btn-outline-secondary me-1\" data-bs-dismiss=\"modal\">取消</button>\r\n              <button type=\"button\" class=\"btn btn-danger ms-1\" data-bs-dismiss=\"modal\" @click=\"deleteCoupon\">確認刪除</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nimport Pagination from '@/components/Pagination'\r\n\r\nexport default {\r\n  name: 'coupon',\r\n  data () {\r\n    return {\r\n      coupons: {},\r\n      pagination: {},\r\n      tempCoupon: {},\r\n      isNew: false,\r\n      couponId: '',\r\n      action: ''\r\n    }\r\n  },\r\n  components: {\r\n    Pagination\r\n  },\r\n  methods: {\r\n    updateCoupon () {\r\n      let api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/coupon`\r\n      let httpMethod = 'post'\r\n      if (!this.isNew) {\r\n        api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/coupon/${this.tempCoupon.id}`\r\n        httpMethod = 'put'\r\n        this.action = '編輯'\r\n      } else {\r\n        this.action = '新增'\r\n      }\r\n      this.checkCoupon()\r\n      this.axios[httpMethod](api, { data: this.tempCoupon }).then(res => {\r\n        if (res.data.success) {\r\n          this.getCoupons()\r\n          this.alertMessage(`優惠卷${this.action}成功`)\r\n        } else {\r\n          this.alertMessage(`優惠卷${this.action}失敗`)\r\n        }\r\n      })\r\n    },\r\n    deleteCoupon () {\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/coupon/${this.couponId}`\r\n      this.axios.delete(api).then(res => {\r\n        if (res.data.success) {\r\n          this.getCoupons()\r\n          this.alertMessage(`成功刪除優惠卷：${this.tempCoupon.title}`)\r\n        } else {\r\n          this.alertMessage('刪除優惠卷失敗')\r\n        }\r\n      })\r\n    },\r\n    enableCoupon () {\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/coupon/${this.tempCoupon.id}`\r\n      if (this.tempCoupon.is_enabled === 0) {\r\n        this.action = '啟用'\r\n        this.tempCoupon.is_enabled = 1\r\n        this.tempCoupon.is_enable = 1\r\n      } else {\r\n        this.action = '停用'\r\n        this.tempCoupon.is_enabled = 0\r\n        this.tempCoupon.is_enable = 0\r\n      }\r\n      this.axios.put(api, { data: this.tempCoupon }).then(res => {\r\n        if (res.data.success) {\r\n          this.getCoupons()\r\n          this.alertMessage(`優惠卷${this.action}成功`)\r\n        } else {\r\n          this.alertMessage(`優惠卷${this.action}失敗`)\r\n        }\r\n      })\r\n    },\r\n    checkCoupon () {\r\n      const filterCoupon = this.coupons.some(item => {\r\n        return this.tempCoupon.code === item.code && this.tempCoupon.id !== item.id\r\n      })\r\n      if (filterCoupon) {\r\n        this.alertMessage('此優惠碼已存在，請更換')\r\n        throw new Error()\r\n      }\r\n    },\r\n    getCoupons (page = 1) {\r\n      this.tempCoupon = {}\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/admin/coupons?page=${page}`\r\n      this.updateLoading(true)\r\n      this.axios.get(api).then(res => {\r\n        this.coupons = res.data.coupons\r\n        this.pagination = res.data.pagination\r\n        this.updateLoading(false)\r\n      })\r\n    },\r\n    ...mapActions(['updateLoading', 'alertMessage'])\r\n  },\r\n  created () {\r\n    this.getCoupons()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./Coupon.vue?vue&type=template&id=9d24d6ee\"\nimport script from \"./Coupon.vue?vue&type=script&lang=js\"\nexport * from \"./Coupon.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"B:\\\\桌面\\\\HTML\\\\practice\\\\Vue_exercise\\\\b2c-web\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <nav aria-label=\"Page navigation\" class=\"justify-content-center d-flex\">\r\n    <ul class=\"pagination\">\r\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_pre }\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" @click.prevent=\"getProductPages(pages.current_page - 1)\">\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\" v-for=\"page in pages.total_pages\" :key=\"page\" :class=\"{ active: pages.current_page === page }\">\r\n        <a class=\"page-link\" href=\"#\" @click.prevent=\"getProductPages(page)\">{{ page }}</a>\r\n      </li>\r\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_next }\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\" @click.prevent=\"getProductPages(pages.current_page + 1)\">\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'Pagination',\r\n  props: ['pages'],\r\n  methods: {\r\n    getProductPages (pages) {\r\n      this.$emit('emitProductPage', pages)\r\n      // 觸發內層getProductPages => 觸發外層emitProductPage => 觸發最終所需methods\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.page-link, .disabled .page-link{\r\n  background: none;\r\n  border: none;\r\n  color: black;\r\n}\r\n.active .page-link{\r\n  border-radius: 50%;\r\n  background: rgb(136, 84, 84);\r\n}\r\n</style>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=19c3f988&scoped=true\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport \"./Pagination.vue?vue&type=style&index=0&id=19c3f988&lang=scss&scoped=true\"\n\nimport exportComponent from \"B:\\\\桌面\\\\HTML\\\\practice\\\\Vue_exercise\\\\b2c-web\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-19c3f988\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Pagination.vue?vue&type=style&index=0&id=19c3f988&lang=scss&scoped=true\""],"sourceRoot":""}